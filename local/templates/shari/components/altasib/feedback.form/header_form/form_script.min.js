var ALXpopup={timerId:"",timerReId:"",minw:500,param:"",removeWindow:!0,fixed:!1,canClearBlock:!1,init:function(a){var e=this;if(this.param=void 0!==a?a:"",this.param.popupAnimation=void 0!==a.popupAnimation?a.popupAnimation:["alx-popup-show-anime1","alx-popup-hide-anime1","alx-popup-mess-show-anime1"],void 0!==a.popupWindow)this.canClearBlock=void 0!==a.filledWithErrors&&"Y"!==a.filledWithErrors,$(".alx_feed_back").find("form").unbind("submit").submit(function(){return e.send_dataAjax(this),!1});else{if(void 0!==a.cssURL&&"object"!=typeof a.cssURL)$("head").append("<link rel='stylesheet' type='text/css' href='"+a.cssURL+"' />");else if("object"==typeof a.cssURL)for(i in a.cssURL)$("head").append("<link rel='stylesheet' type='text/css' href='"+a.cssURL[i]+"' />");void 0!==a.objClick&&$(a.objClick).click(function(){e.show(this)}),this.param.data=void 0!==a.data?a.data:"",this.param.url=void 0!==a.url?a.url:"",this.param.fixed=void 0!==a.fixed?a.fixed:e.fixed,this.param.width=void 0!==a.width?a.width:e.minw,this.param.height=void 0!==a.height?a.height:200,this.param.removeWindow=void 0!==a.removeWindow?a.removeWindow:e.removeWindow}},show:function(a){var e=$(a).attr(this.param.data.ELEMENT_ID_ATTR);this.param.data.TARGET_ELEMENT_ID=void 0!==e?parseInt(e):"";var t=this;return document.body.style.overflowX="hidden",this.param.removeWindow&&$(".modal_form , .alx_fb_overlay").remove(),$(".alx-feedb-data").length<1?($("body").append('<div class="modal_form"><span class="modal_close"><span class="modal_close__left"></span><span class="modal_close__right"></span></span><div class="alx-feedb-error"></div><div class="alx_cont_popup"></div></div><div class="alx_fb_overlay"></div>'),$(".alx_fb_overlay").fadeIn(400),$("body").append('<div class="alx_fedb_wait"><div class="alx-feedb-loading"></div><div class="alx-feedb-loading-text">loading</div></div>'),$(".modal_close,.alx_fb_overlay,.modal_close_ok").click(function(){t.close()}),t.timerId=setInterval(function(){t.update()},200),setTimeout(function(){clearInterval(t.timerId),t.show_error()},5e3),t.load_contentAjax()):($(".alx_fb_overlay").fadeIn(400),$(window).height()>$(".modal_form").outerHeight()+100&&this.param.fixed?$(".modal_form").css({top:($(window).height()-$(".modal_form").outerHeight())/2-50+"px",marginTop:"0",position:"fixed",opacity:1}):$(".modal_form").css({position:"absolute",marginTop:$(window).scrollTop()+100+"px",top:"0",opacity:1}),$(".modal_form").removeClass(this.param.popupAnimation[0]+", "+this.param.popupAnimation[1]),$(".modal_form").addClass(this.param.popupAnimation[0])),!0},autoResize:function(){$(".alx-feedb-data").length<1||"fixed"!=$(".modal_form").css("position")?clearInterval(this.timerReId):$(window).height()>$(".modal_form").outerHeight()+100&&this.param.fixed?$(".modal_form").css({top:($(window).height()-$(".modal_form").outerHeight())/2-50+"px",marginTop:"0",position:"fixed"}):$(".modal_form").css({position:"absolute",marginTop:$(window).scrollTop()+100+"px",top:"0"})},update:function(){var a=this;if(!($(".alx-feedb-data").length<1)){clearInterval(a.timerId);var e="";if(1==(this.param.width+"").split("%").length){e=(this.param.width+"").split("px");var t=0-parseInt(e[0])/2+"px"}else{e=(this.param.width+"").split("%");t=0-parseInt(e[0])/2+"%"}if($(".modal_form").css({marginLeft:t,width:this.param.width}),$(window).height()>$(".modal_form").outerHeight()+100&&this.param.fixed?$(".modal_form").css({top:($(window).height()-$(".modal_form").outerHeight())/2-50+"px",marginTop:"0",position:"fixed"}):$(".modal_form").css({position:"absolute",marginTop:$(window).scrollTop()+100+"px",top:"0"}),void 0!==this.param.popupAnimation)var o=this.param.popupAnimation[0];$(".modal_form").delay(400).queue(function(){$(".alx_fedb_wait").fadeOut(400,function(){$(this).remove()}),$(".modal_form").addClass(o),$(".alx-feedb-data").addClass("alx-feedb-data-view")}),$(".modal_form").css("z-index")<0&&$(".modal_form").css({"z-index":"2001"}),setTimeout(function(){$(".modal_form").css("opacity")<1&&$(".modal_form").css({opacity:1})},1e3),a.timerReId=setInterval(function(){a.autoResize()},400)}},close:function(){var a=this,e=this.param.popupAnimation[1];$(".alx-feedb-data").css({maxHeight:$(window).height()-100+"px"}),$(".modal_form").addClass(e),$(".alx_fb_overlay, .alx_fedb_wait, .modal_form").fadeOut(400),setTimeout(function(){2e3<$(".modal_form").css("z-index")&&$(".modal_form").css({"z-index":"-1"}),document.body.style.overflowX=""},750),setTimeout(function(){0<$(".modal_form").css("opacity")&&$(".modal_form").css({opacity:0,marginTop:"-100000px"}),(a.removeWindow||1<$(".alx-feedb-data-errorLoading").length)&&$(".modal_form, .alx_fb_overlay").remove()},500)},show_error:function(){$(".alx-feedb-data").length<1&&($(".alx_cont_popup").html('<div class="alx-feedb-data alx-feedb-data-errorLoading">Loading error. Try again.<br /><a href="" onClick="ALXpopup.close(); return false" class="alx-feedb-data-close">close window</a></div>'),this.update())},load_contentAjax:function(){if(void 0!==this.param.data){var e=this;$.ajax({type:"POST",data:this.param.data,url:this.param.url,async:!0,success:function(a){$(".alx_cont_popup").html('<div class="alx-feedb-data alx-feedb-data-view">'+a+"</div>"),$(".alx-feedb-data").find("form").submit(function(){return e.send_dataAjax(this),!1})}})}},reload_contentAjax:function(){var e=this;$("body").append('<div class="alx_fedb_wait"><div class="alx-feedb-loading"></div><div class="alx-feedb-loading-text">loading</div></div>'),$.ajax({type:"POST",data:$(".alx-feedb-data").find("form").serialize(),url:this.param.url,async:!0,success:function(a){$(".alx-feedb-data").remove(),$(".alx_fedb_wait").remove(),$(".alx_cont_popup").html('<div class="alx-feedb-data">'+a+"</div>"),$(".alx-feedb-data").addClass("alx-feedb-data-view"),$(".alx-feedb-data").find("form").submit(function(){return e.send_dataAjax(this),!1})}})},ok_window:function(a){var e=this,t=void 0!==a.width?a.width:300;if(1==(t+"").split("%").length){t=(t+"").split("px");var o=0-parseInt(t[0])/2+"px"}else{t=(t+"").split("%");o=0-parseInt(t[0])/2+"%"}$(".modal_form").css({marginLeft:o,width:t,position:"fixed",top:"30%",marginTop:"0"}),void 0!==a.fid?$("#alx_feed_back_"+a.fid+".alx-feedb-data, #alx_feed_back_"+a.fid+".alx_feed_back").empty():$(".modal_form .alx-feedb-data,.alx_feed_back").empty(),$(".modal_close_ok").click(function(){e.close()})},send_dataAjax:function(a){var d=this,l=$(a).attr("name").split("_")[2],r=$("#fb_close_"+l);r.prop("type","button");var s=this.param.popupAnimation[2],e=$(a).attr("action");e=void 0!==e?e:"";var t=!1;if("function"==typeof FormData){var o=new FormData(a);t=!0}else o=$(a).serializeArray();$.ajax({url:e,type:"POST",data:o,cache:!1,processData:!t,contentType:!t&&"application/x-www-form-urlencoded;charset=UTF-8",success:function(a){var e="\x3c!--REFRESH_SECTION--\x3e",t=a.indexOf(e),o=a,i=!1;return-1<t&&(o=a.substr(0,t),i=a.substr(t+e.length)),i&&$("#alx_feed_back_"+l+".alx_feed_back").html(i),void 0!==l&&0<$("#alx_feed_back_"+l).siblings(".alx-feedb-error").length?$("#afbf_err_"+l).html(o).addClass(s):void 0!==l&&0<$("#alx_feed_back_"+l).parent().parent().siblings(".alx-feedb-error").length?$("#alx_feed_back_"+l).parent().parent().siblings(".alx-feedb-error").html(o).addClass(s):$(".alx-feedb-error").html(o).addClass(s),r.prop("type","submit"),d.canClearBlock&&$("#alx_feed_back_"+l+".alx_feed_back").empty(),!0}})}};function alx_addFormGroupFocus(a){var e=$(a);e.prop("disabled")||e.parents(".afbf_item_pole").addClass("is_focused")}function alx_removeFormGroupFocus(a){var e=$(a);$(a).parents(".afbf_item_pole").removeClass("is_focused is_filled"),0!==e.val().length&&$(a).parents(".afbf_item_pole").addClass("is_filled")}function poleError(a){return 1<a.name.split("[").length&&"EMAIL"==a.name.split("[")[1].split("_")[0]&&!checkEmail(a.value)||("radio"==a.type||"checkbox"==a.type?!a.checked&&0==$('[name="'+a.name+'"]:checked').length:0==a.value.length||!$(a).val())}function checkEmail(a){return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(a)}function validateForm(a){var e=a.find(".afbf_item_pole.required"),t=a.find(".afbf_item_pole.is_email");if(0<e.length||0<t.length){t.each(function(){var a=$(this);a.find("input[name]").not("[type=hidden]").each(function(){""==this.value||checkEmail(this.value)?a.removeClass("error_pole"):a.addClass("error_pole")})}),e.each(function(){var a=$(this);a.find("input[name],textarea[name],select[name]").not("[type=hidden]").each(function(){"g-recaptcha-response"!=this.name&&(poleError(this)?a.addClass("error_pole"):a.removeClass("error_pole"))})});var o=a.find(".afbf_item_pole.required.error_pole");if(0<o.length)return o.eq(0).find("input,textarea").not("[type=hidden]").focus(),!1}return!0}function ALX_captcha_Error(){$(".item_pole__captcha").addClass("error_pole")}function ALX_fileError(a){a.addClass("error_fpole")}$(document).ready(function(){$(".alx_feed_back .item_pole__captcha .afbf_name").each(function(a,e){$(e).next().find("input").css({height:$(e).height()+"px"})}),$(document).on("focus",".afbf_item_pole .afbf_inputtext,.afbf_item_pole .afbf_textarea,.afbf_item_pole .afbf_select,.afbf_item_pole .afbf_textarea,.afbf_item_pole .afbf_file_input_add",function(){alx_addFormGroupFocus(this)}).on("blur",".afbf_item_pole .afbf_inputtext,.afbf_item_pole .afbf_textarea,.afbf_item_pole .afbf_select,.afbf_item_pole .afbf_textarea,.afbf_item_pole .afbf_file_input_add",function(){alx_removeFormGroupFocus(this)})});